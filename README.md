# astrbot_plugin_ceshi
# 小碎 AstrBot 插件 README

可爱的小机器人 **小碎** 🩵  
基于 **AstrBot 框架** 的 QQ 插件，集成互动、签到、运势、占卜、投喂、彩蛋与成就系统。  
代码风格清晰、结构统一，可直接放入 AstrBot 插件目录运行。

---

## ✨ 功能总览

### 🌞 日常互动
| 指令 | 功能 |
|------|------|
| `小碎` | 随机问候与颜文字回复 |
| `签到` | 每日一次，按时间段打招呼，获得好感与玻璃珠 |
| `我还要签到` | 第二次签到，九段运势，仅影响玻璃珠 |
| `占卜` | 塔罗牌 22 张，含正逆位、等级与情绪文案 |
| `投喂` | 3 分钟冷却，随机食物互动，有特殊投喂奖励 |
| `运势` | 百分制运气值，0 → 安慰 +3珠；100 → 祝福 +10好感 +50珠 |

---

### ★ 彩蛋系统

- 互动指令（签到 / 二签 / 占卜 / 投喂）：**20%** 掉落概率  
- 特别彩蛋（星露谷 / 饥荒 / 泰拉瑞亚）：**10%** 独立触发  
- 传说彩蛋（最稀有 `u00`）：**0.5%** 独立触发  
- 普通/稀有/超稀有概率权重：**82% / 17% / 1%**

彩蛋分为：
- 普通 25 个 → `NORMAL_EGGS`
- 稀有 10 个 → `RARE_EGGS`
- 超稀有 5 个（含传说）→ `ULTRA_EGGS`
- 特别 10 个（联动）→ `SPECIAL_EGGS`

所有彩蛋唯一，不会重复获取。

---

### 🏅 成就系统

 - 发送/查看成就

---

### 🧭 菜单与查询指令

| 指令 | 功能说明 |
|------|-----------|
| `菜单` / `帮助` | 展示全部功能与彩蛋概率 |
| `查看成就` | 显示当前彩蛋与成就收集进度 |
| `程序员菜单测试` | 固定掉落彩蛋 n01（开发验证用） |

---

## 🧩 文件与数据结构

- **插件类名：** `MyPlugin(Star)`
- **注册名：** `helloworld`
- **数据文件：** `data/xiaosui_state.json`
- **存储内容：**
  - 用户状态（好感 / 玻璃珠 / 签到时间 / 投喂冷却）
  - 彩蛋与成就进度记录

---

## 🎲 概率机制

- 互动行为（签到 / 占卜 / 投喂 / 二签）→ 20%  
- 特别彩蛋 → 10% 独立判定  
- 传说彩蛋 → 0.5% 独立判定  
- 彩蛋权重分配：普通 82%、稀有 17%、超稀有 1%

每条消息与指令执行都会触发独立判定，无重叠概率冲突。
